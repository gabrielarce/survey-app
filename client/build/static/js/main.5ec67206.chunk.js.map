{"version":3,"sources":["actions/index.js","actions/types.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["fetchUser","dispatch","a","axios","get","res","type","payload","data","handleToken","token","post","Payments","name","description","amount","props","stripeKey","process","className","Component","connect","actions","Header","this","auth","href","key","style","margin","credits","console","log","to","renderContent","Landing","textAlign","Dashboard","SurveyNew","App","exact","path","component","combineReducers","state","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","querySelector"],"mappings":"6YAGaA,EAAY,yDAAM,WAAMC,GAAN,eAAAC,EAAA,sEACXC,IAAMC,IAAI,qBADC,OACvBC,EADuB,OAE1BJ,EAAS,CAAEK,KCLU,aDKQC,QAASF,EAAIG,OAFhB,2CAAN,uDAKZC,EAAc,SAACC,GAAD,8CAAW,WAAMT,GAAN,eAAAC,EAAA,sEAChBC,IAAMQ,KAAK,cAAeD,GADV,OAC5BL,EAD4B,OAElCJ,EAAS,CAAEK,KCVW,aDUOC,QAASF,EAAIG,OAFR,2CAAX,uD,iBEFrBI,E,uKACM,IAAD,OACP,OACE,kBAAC,IAAD,CACEC,KAAM,YACNC,YAAa,0BACbC,OAAQ,IACRL,MAAO,SAACA,GAAD,OAAW,EAAKM,MAAMP,YAAYC,IACzCO,UAAWC,+GAEV,4BAAQC,UAAU,OAAlB,oB,GAVcC,aAkBRC,cAAQ,KAAMC,EAAdD,CAAuBT,GCnBhCW,E,8KAEF,OAAQC,KAAKR,MAAMS,MACjB,KAAK,KACH,OACF,KAAK,EACH,OACE,4BACE,uBAAGC,KAAK,gBAAR,yBAGN,QACE,MAAO,CACH,wBAAIC,IAAI,KACN,kBAAC,EAAD,OAEF,wBAAIA,IAAI,IAAIC,MAAO,CAACC,OAAQ,WAA5B,YACcL,KAAKR,MAAMS,KAAKK,SAE9B,wBAAIH,IAAI,KACN,uBAAGD,KAAK,eAAR,kB,+BAOV,OADAK,QAAQC,IAAIR,KAAKR,OAEf,6BACE,yBAAKG,UAAU,eACb,kBAAC,IAAD,CACEc,GAAIT,KAAKR,MAAMS,KAAO,WAAa,IACnCN,UAAU,mBAFZ,aAMA,wBAAIA,UAAU,SAASK,KAAKU,uB,GApCjBd,aA8CNC,mBAHf,YACE,MAAO,CAAEI,KADwB,EAARA,QAGZJ,CAAyBE,GCxCzBY,EATC,WACd,OACE,yBAAKP,MAAO,CAAEQ,UAAW,WACvB,yCADF,qCCGEC,EAAY,kBAAM,0CAClBC,EAAY,kBAAM,0CAGlBC,E,kLAEEf,KAAKR,MAAMhB,c,+BAIf,OACE,yBAAKmB,UAAU,aACb,kBAAC,IAAD,KACE,6BACE,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAOqB,OAAO,EAAMC,KAAK,IAAIC,UAAWP,IACxC,kBAAC,IAAD,CAAOK,OAAO,EAAMC,KAAK,WAAWC,UAAWL,IAC/C,kBAAC,IAAD,CAAOI,KAAK,eAAeC,UAAWJ,W,GAbhClB,aAqBHC,cAAQ,KAAMC,EAAdD,CAAuBkB,GC7BvBI,cAAgB,CAC3BlB,KCFW,WAAiC,IAAvBmB,EAAsB,uDAAd,KAAMC,EAAQ,uCAE7C,OADAd,QAAQC,IAAIa,GACJA,EAAOvC,MACb,INLsB,aMMpB,OAAOuC,EAAOtC,UAAW,EAC3B,QACE,OAAOqC,MCEPE,EAAQC,YAAYC,EAAU,GAAIC,YAAgBC,MAExDC,IAASC,OAAO,kBAAC,IAAD,CAAUN,MAAOA,GAAO,kBAAE,EAAF,OAAoBO,SAASC,cAAc,Y","file":"static/js/main.5ec67206.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { FETCH_USER } from \"./types\";\n\nexport const fetchUser = () => async dispatch => {\n  const res = await axios.get(\"/api/current_user\");\n     dispatch({ type: FETCH_USER, payload: res.data });\n};\n\nexport const handleToken = (token) => async dispatch => {\n    const res = await axios.post('/api/stripe', token);\n    dispatch({ type: FETCH_USER, payload: res.data});\n}","export const FETCH_USER = 'fetch_user';","import React, { Components, Component } from \"react\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\n\nclass Payments extends Component {\n  render() {\n    return (\n      <StripeCheckout\n        name={'React App'}\n        description={'5 credits for 5 dollars'}\n        amount={500}\n        token={(token) => this.props.handleToken(token)}\n        stripeKey={process.env.REACT_APP_STRIPE_KEY}\n      >\n         <button className='btn'>\n             Add Credits \n         </button>\n      </StripeCheckout>\n    );\n  }\n}\n\nexport default connect(null, actions)(Payments);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Payments from \"./Payments\";\n\nclass Header extends Component {\n  renderContent() {\n    switch (this.props.auth) {\n      case null:\n        return;\n      case false:\n        return (\n          <li>\n            <a href=\"/auth/google\"> Log in with Google </a>\n          </li>\n        );\n      default:\n        return [\n            <li key='1'>\n              <Payments />\n            </li>,\n            <li key='3' style={{margin: '0 10px'}}>\n                Credits: {this.props.auth.credits}\n            </li>,\n            <li key='2'>\n              <a href=\"/api/logout\"> Log Out </a>\n            </li>   \n        ];\n    }\n  }\n  render() {\n    console.log(this.props);\n    return (\n      <nav>\n        <div className=\"nav-wrapper\">\n          <Link\n            to={this.props.auth ? \"/surveys\" : \"/\"}\n            className=\"left brand-logo\"\n          >\n            React App\n          </Link>\n          <ul className=\"right\">{this.renderContent()}</ul>\n        </div>\n      </nav>\n    );\n  }\n}\n\nfunction mapStateToProps({ auth }) {\n  return { auth };\n}\nexport default connect(mapStateToProps)(Header);\n","import React from \"react\";\n\nconst Landing = () => {\n  return (\n    <div style={{ textAlign: \"center\" }}>\n      <h1>React App</h1>\n      Collect feedback from your users\n    </div>\n  );\n};\n\nexport default Landing;","import React, { Component } from \"react\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\nimport Header from \"./Header\";\nimport Landing from './Landing';\nconst Dashboard = () => <h2>Dashboard</h2>;\nconst SurveyNew = () => <h2>SurveyNew</h2>;\n\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.fetchUser();\n    }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <BrowserRouter>\n          <div>\n            <Header />\n            <Route exact={true} path=\"/\" component={Landing} />\n            <Route exact={true} path=\"/surveys\" component={Dashboard} />\n            <Route path=\"/surveys/new\" component={SurveyNew} />\n          </div>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, actions)(App);\n","import { combineReducers } from 'redux';\nimport authReducer from './authReducer';\n\nexport default combineReducers({\n    auth: authReducer\n});","import { FETCH_USER } from \"../actions/types\";\n\nexport default function (state = null, action) {\n  console.log(action);\n  switch (action.type) {\n    case FETCH_USER:\n      return action.payload || false;\n    default:\n      return state;\n  }\n}\n","import 'materialize-css/dist/css/materialize.min.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducers from './reducers';\n\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk));\n\nReactDOM.render(<Provider store={store}>< App/></Provider>, document.querySelector('#root'));\n"],"sourceRoot":""}